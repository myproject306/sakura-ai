<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pricing ‚Äî Sakura AI</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="stylesheet" href="styles.css" />
  <style>
    .compare-table { width: 100%; border-collapse: collapse; margin-top: 48px; }
    .compare-table th, .compare-table td { padding: 14px 20px; text-align: left; border-bottom: 1px solid var(--border); font-size: 14px; }
    .compare-table th { background: var(--accent); font-weight: 700; color: var(--dark); }
    .compare-table th:not(:first-child), .compare-table td:not(:first-child) { text-align: center; }
    .compare-table tr:hover td { background: var(--secondary); }
    .compare-table .check-yes { color: var(--primary-deep); font-size: 18px; }
    .compare-table .check-no { color: #ccc; font-size: 18px; }
    .compare-table .featured-col { background: rgba(247,183,200,0.08); }
    .faq-mini { max-width: 700px; margin: 0 auto; }
    .guarantee-box {
      background: var(--gradient-hero);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 36px;
      text-align: center;
      max-width: 600px;
      margin: 0 auto;
    }
    .guarantee-box .g-icon { font-size: 48px; margin-bottom: 16px; }
    .guarantee-box h3 { font-size: 22px; font-weight: 800; color: var(--dark); margin-bottom: 10px; }
    .guarantee-box p { font-size: 14px; color: var(--gray); line-height: 1.8; }
  </style>
  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#e8547a" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="apple-mobile-web-app-title" content="Sakura AI" />
  <link rel="apple-touch-icon" href="icons/icon.svg" />
</head>
<body>

<nav class="navbar">
  <div class="container">
    <a href="index.html" class="logo"><div class="logo-icon">üå∏</div>Sakura <span class="brand">AI</span></a>
    <ul class="nav-links">
      <li><a href="index.html">Home</a></li>
      <li><a href="tools.html">AI Tools</a></li>
      <li><a href="pricing.html" class="active">Pricing</a></li>
      <li><a href="templates.html">Templates</a></li>
      <li><a href="faq.html">FAQ</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
    <div class="nav-actions" id="navActions">
      <a href="auth.html" class="btn-ghost" style="text-decoration:none;">Log In</a>
      <a href="auth.html?tab=signup" class="btn-primary" style="text-decoration:none;">Start Free Trial</a>
      <div class="hamburger" onclick="this.closest('nav').querySelector('.nav-links').classList.toggle('mobile-open')"><span></span><span></span><span></span></div>
    </div>
  </div>
</nav>

<div class="page-hero">
  <div class="container">
    <span class="section-tag">Simple Pricing</span>
    <h1>One Subscription. <span class="highlight">All AI Tools.</span></h1>
    <p>No hidden fees. Cancel anytime. Start with a free trial ‚Äî no credit card required.</p>
  </div>
</div>

<!-- PRICING CARDS -->
<section class="section section-alt">
  <div class="container">
    <div class="pricing-grid">

      <!-- Prices loaded dynamically from Stripe -->
      <div id="pricingCards" style="display:contents;">
        <!-- Loading state -->
        <div class="pricing-card fade-up" style="grid-column:1/-1;text-align:center;padding:48px;">
          <div style="font-size:32px;margin-bottom:12px;">üå∏</div>
          <p style="color:var(--gray);">Loading plans...</p>
        </div>
      </div>
    </div>

    <!-- Guarantee -->
    <div class="text-center mt-32 mb-32">
      <div class="guarantee-box fade-up">
        <div class="g-icon">üõ°Ô∏è</div>
        <h3>7-Day Money-Back Guarantee</h3>
        <p>Not satisfied? Get a full refund within 7 days of purchase ‚Äî no questions asked, as long as no significant usage has occurred. We're confident you'll love Sakura AI.</p>
      </div>
    </div>
  </div>
</section>

<!-- COMPARISON TABLE -->
<section class="section">
  <div class="container">
    <div class="section-header">
      <span class="section-tag">Compare Plans</span>
      <h2 class="section-title">Full <span class="highlight">Feature Comparison</span></h2>
    </div>
    <div style="overflow-x:auto;">
      <table class="compare-table fade-up">
        <thead>
          <tr>
            <th>Feature</th>
            <th>Basic</th>
            <th class="featured-col">Pro üå∏</th>
            <th>Team</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Text & Writing AI</td><td><span class="check-yes">‚úì</span></td><td class="featured-col"><span class="check-yes">‚úì</span></td><td><span class="check-yes">‚úì</span></td></tr>
          <tr><td>Image & Design AI</td><td><span class="check-yes">‚úì</span></td><td class="featured-col"><span class="check-yes">‚úì</span></td><td><span class="check-yes">‚úì</span></td></tr>
          <tr><td>Video AI</td><td><span class="check-no">‚úó</span></td><td class="featured-col"><span class="check-yes">‚úì</span></td><td><span class="check-yes">‚úì</span></td></tr>
          <tr><td>Audio AI</td><td><span class="check-no">‚úó</span></td><td class="featured-col"><span class="check-yes">‚úì</span></td><td><span class="check-yes">‚úì</span></td></tr>
          <tr><td>Code AI</td><td><span class="check-yes">‚úì</span></td><td class="featured-col"><span class="check-yes">‚úì</span></td><td><span class="check-yes">‚úì</span></td></tr>
          <tr><td>Data & Analytics AI</td><td><span class="check-no">‚úó</span></td><td class="featured-col"><span class="check-yes">‚úì</span></td><td><span class="check-yes">‚úì</span></td></tr>
          <tr><td>Study & Learning AI</td><td><span class="check-yes">‚úì</span></td><td class="featured-col"><span class="check-yes">‚úì</span></td><td><span class="check-yes">‚úì</span></td></tr>
          <tr><td>Business & Productivity AI</td><td><span class="check-no">‚úó</span></td><td class="featured-col"><span class="check-yes">‚úì</span></td><td><span class="check-yes">‚úì</span></td></tr>
          <tr><td>Templates Library</td><td>50+</td><td class="featured-col">500+</td><td>500+</td></tr>
          <tr><td>Arabic & English Support</td><td><span class="check-yes">‚úì</span></td><td class="featured-col"><span class="check-yes">‚úì</span></td><td><span class="check-yes">‚úì</span></td></tr>
          <tr><td>Project History</td><td>30 days</td><td class="featured-col">Unlimited</td><td>Unlimited</td></tr>
          <tr><td>Priority Processing</td><td><span class="check-no">‚úó</span></td><td class="featured-col"><span class="check-yes">‚úì</span></td><td><span class="check-yes">‚úì</span></td></tr>
          <tr><td>Team Management</td><td><span class="check-no">‚úó</span></td><td class="featured-col"><span class="check-no">‚úó</span></td><td><span class="check-yes">‚úì</span></td></tr>
          <tr><td>Priority Support</td><td>Email</td><td class="featured-col">Priority</td><td>24/7</td></tr>
          <tr><td>API Access</td><td><span class="check-no">‚úó</span></td><td class="featured-col"><span class="check-no">‚úó</span></td><td>Coming Soon</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</section>

<!-- FAQ -->
<section class="section section-alt">
  <div class="container">
    <div class="section-header">
      <span class="section-tag">FAQ</span>
      <h2 class="section-title">Pricing <span class="highlight">Questions</span></h2>
    </div>
    <div class="faq-list faq-mini">
      <div class="faq-item">
        <button class="faq-question">Is there a free trial?<span class="faq-icon">+</span></button>
        <div class="faq-answer"><div class="faq-answer-inner">Yes! We offer a limited free trial for new users. No credit card required to start.</div></div>
      </div>
      <div class="faq-item">
        <button class="faq-question">Can I cancel anytime?<span class="faq-icon">+</span></button>
        <div class="faq-answer"><div class="faq-answer-inner">Absolutely. You can cancel your subscription at any time from your dashboard with no penalties.</div></div>
      </div>
      <div class="faq-item">
        <button class="faq-question">Can I upgrade or downgrade my plan?<span class="faq-icon">+</span></button>
        <div class="faq-answer"><div class="faq-answer-inner">Yes, you can change your plan at any time. Upgrades take effect immediately, downgrades at the next billing cycle.</div></div>
      </div>
      <div class="faq-item">
        <button class="faq-question">What payment methods do you accept?<span class="faq-icon">+</span></button>
        <div class="faq-answer"><div class="faq-answer-inner">We accept all major credit cards, PayPal, and local payment methods in supported regions.</div></div>
      </div>
      <div class="faq-item">
        <button class="faq-question">Is there a refund policy?<span class="faq-icon">+</span></button>
        <div class="faq-answer"><div class="faq-answer-inner">Yes. Refunds are available within 7 days of purchase if no significant usage has occurred. See our <a href="refund.html" style="color:var(--primary-deep)">Refund Policy</a> for details.</div></div>
      </div>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="section">
  <div class="container">
    <div class="cta-banner fade-up">
      <h2>Start creating with AI today üå∏</h2>
      <p>Join thousands of users already using Sakura AI. Free trial, no credit card needed.</p>
      <a href="auth.html?tab=signup" class="btn-white" style="text-decoration:none;display:inline-flex;align-items:center;gap:8px;padding:14px 36px;background:white;border-radius:9999px;font-size:15px;font-weight:700;color:var(--primary-deep);box-shadow:var(--shadow-md);transition:var(--transition);">
        <i class="fas fa-rocket"></i> Start Free Trial
      </a>
    </div>
  </div>
</section>

<footer class="footer">
  <div class="container">
    <div class="footer-grid">
      <div class="footer-brand">
        <div class="logo"><div class="logo-icon">üå∏</div>Sakura <span class="brand">AI</span></div>
        <p>All AI tools. One beautiful platform.</p>
        <div class="footer-social">
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-linkedin-in"></i></a>
          <a href="#"><i class="fab fa-youtube"></i></a>
        </div>
      </div>
      <div class="footer-col"><h4>Platform</h4><ul><li><a href="index.html">Home</a></li><li><a href="tools.html">AI Tools</a></li><li><a href="pricing.html">Pricing</a></li><li><a href="templates.html">Templates</a></li><li><a href="dashboard.html">Dashboard</a></li></ul></div>
      <div class="footer-col"><h4>Support</h4><ul><li><a href="faq.html">FAQ</a></li><li><a href="contact.html">Contact Us</a></li><li><a href="privacy.html">Privacy Policy</a></li><li><a href="terms.html">Terms & Conditions</a></li><li><a href="refund.html">Refund Policy</a></li></ul></div>
      <div class="footer-col"><h4>Legal</h4><ul><li><a href="privacy.html">Privacy Policy</a></li><li><a href="terms.html">Terms & Conditions</a></li><li><a href="refund.html">Refund Policy</a></li></ul></div>
    </div>
    <div class="footer-bottom">
      <p>¬© 2025 Sakura AI. All rights reserved. üå∏</p>
      <div class="footer-bottom-links"><a href="privacy.html">Privacy</a><a href="terms.html">Terms</a><a href="refund.html">Refund</a></div>
    </div>
  </div>
</footer>

<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/sw.js')
        .then(reg => console.log('üå∏ SW registered'))
        .catch(err => console.warn('SW registration failed:', err));
    });
  }
</script>
<script src="config.js"></script>
<script src="script.js"></script>
<script>
  const API_BASE = SAKURA_CONFIG.API_BASE;

  const PLAN_FEATURES = {
    starter: ['Access to core AI tools','50+ templates library','500K tokens/month','50 credits/month','Arabic & English support','Personal dashboard','Email support'],
    pro:     ['Full access to ALL AI tools','500+ templates library','2M tokens/month','200 credits/month','Faster AI processing','Priority support','Download & export results','Advanced dashboard'],
    team:    ['Everything in Pro','Up to 10 user accounts','10M tokens/month','1,000 credits/month','Team management dashboard','Company billing & invoices','Priority support (24/7)','Dedicated account manager','API access (coming soon)'],
  };
  const PLAN_DISABLED = {
    starter: ['Full templates library','Priority processing','Team management'],
    pro:     ['Team management'],
    team:    [],
  };
  const PLAN_ICONS = { starter: 'üå±', pro: 'üå∏', team: 'üè¢' };
  const PLAN_NAMES = { starter: 'Starter', pro: 'Pro', team: 'Team / Business' };
  const PLAN_DESCS = {
    starter: 'Perfect for individuals getting started with AI',
    pro:     'For creators, freelancers, and professionals',
    team:    'For businesses, agencies, and teams',
  };

  async function loadPrices() {
    // If demo mode or backend not configured, use static prices directly
    if (SAKURA_CONFIG.DEMO_MODE) {
      renderPricingCards([
        { productName: 'Starter', amount: 900,  currency: 'usd', interval: 'month', trialDays: 7 },
        { productName: 'Pro',     amount: 2900, currency: 'usd', interval: 'month', trialDays: 7 },
        { productName: 'Team',    amount: 7900, currency: 'usd', interval: 'month', trialDays: 0 },
      ]);
      return;
    }
    try {
      const res  = await fetch(`${API_BASE}/stripe/prices`);
      const data = await res.json();
      renderPricingCards(data.prices);
    } catch (err) {
      // Fallback to static prices
      renderPricingCards([
        { productName: 'Starter', amount: 900,  currency: 'usd', interval: 'month', trialDays: 7 },
        { productName: 'Pro',     amount: 2900, currency: 'usd', interval: 'month', trialDays: 7 },
        { productName: 'Team',    amount: 7900, currency: 'usd', interval: 'month', trialDays: 0 },
      ]);
    }
  }

  function renderPricingCards(prices) {
    const planOrder = ['starter', 'pro', 'team'];
    const sorted = planOrder.map(planKey => {
      const price = prices.find(p =>
        p.productName?.toLowerCase().includes(planKey) ||
        p.metadata?.plan === planKey
      );
      return { planKey, price };
    }).filter(p => p.price);

    const container = document.getElementById('pricingCards');
    container.innerHTML = sorted.map(({ planKey, price }, i) => {
      const isFeatured = planKey === 'pro';
      const amount     = (price.amount / 100).toFixed(0);
      const features   = PLAN_FEATURES[planKey] || [];
      const disabled   = PLAN_DISABLED[planKey] || [];
      const trialDays  = price.trialDays || 0;
      const delay      = i === 1 ? 'fade-up-delay-1' : i === 2 ? 'fade-up-delay-2' : '';

      return `
        <div class="pricing-card ${isFeatured ? 'featured' : ''} fade-up ${delay}">
          ${isFeatured ? '<div class="pricing-badge">‚≠ê Most Popular</div>' : ''}
          <div class="plan-icon">${PLAN_ICONS[planKey]}</div>
          <div class="plan-name">${PLAN_NAMES[planKey]}</div>
          <div class="plan-desc">${PLAN_DESCS[planKey]}</div>
          <div class="plan-price">
            <span class="currency">$</span><span class="amount">${amount}</span><span class="period">/${price.interval}</span>
          </div>
          ${trialDays > 0 ? `<div style="font-size:12px;font-weight:600;color:${isFeatured ? 'rgba(255,255,255,0.85)' : 'var(--primary-deep)'};margin-bottom:16px;">‚úì ${trialDays}-day free trial included</div>` : ''}
          <ul class="plan-features">
            ${features.map(f => `<li><span class="check">‚úì</span> ${f}</li>`).join('')}
            ${disabled.map(f => `<li class="disabled"><span class="check">‚úó</span> ${f}</li>`).join('')}
          </ul>
          <button class="${isFeatured ? 'btn-plan-featured' : 'btn-plan'}" onclick="selectPlan('${planKey}')">
            ${trialDays > 0 ? `Start ${trialDays}-Day Free Trial` : 'Get Started'}
          </button>
        </div>`;
    }).join('');

    // Re-observe fade-up elements
    document.querySelectorAll('.fade-up').forEach(el => {
      if (typeof fadeObserver !== 'undefined') fadeObserver.observe(el);
    });
  }

  function selectPlan(plan) {
    const token = localStorage.getItem('sakura_token');
    if (token) {
      // Already logged in ‚Üí go directly to checkout
      startCheckout(plan, token);
    } else {
      // Not logged in ‚Üí go to signup with plan param
      window.location.href = `auth.html?tab=signup&plan=${plan}`;
    }
  }

  async function startCheckout(plan, token) {
    try {
      const res  = await fetch(`${API_BASE}/stripe/create-checkout-session`, {
        method:  'POST',
        headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` },
        body:    JSON.stringify({ plan }),
      });
      const data = await res.json();
      if (data.url) window.location.href = data.url;
    } catch (err) {
      showToast('‚ùå Failed to start checkout. Please try again.');
    }
  }

  // Update nav if logged in
  (function checkAuth() {
    const token = localStorage.getItem('sakura_token');
    const user  = JSON.parse(localStorage.getItem('sakura_user') || '{}');
    if (token && user.email) {
      document.getElementById('navActions').innerHTML = `
        <a href="dashboard.html" class="btn-ghost" style="text-decoration:none;">Dashboard</a>
        <a href="dashboard.html" class="btn-primary" style="text-decoration:none;">My Account</a>
        <div class="hamburger" onclick="this.closest('nav').querySelector('.nav-links').classList.toggle('mobile-open')"><span></span><span></span><span></span></div>
      `;
    }
  })();

  loadPrices();
</script>
<script src="sakura-assistant.js"></script>
</body>
</html>
